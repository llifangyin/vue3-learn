{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/patchClass.ts", "../src/modules/patchStyle.ts", "../src/modules/pathEvent.ts", "../src/modules/pathAttr.ts", "../src/patchProp.ts", "../../runtime-core/src/index.ts", "../src/index.ts"],
  "sourcesContent": ["// \u4E3B\u8981\u662F\u8282\u70B9\u5143\u7D20\u7684\u589E\u5220\u6539\u67E5\r\nexport  const nodeOps = {\r\n    insert(el,parent,anchor){\r\n        parent.insertBefore(el,anchor || null)\r\n    },\r\n    remove(el){\r\n        const parent = el.parentNode\r\n        if(parent){\r\n            parent.removeChild(el)\r\n        }\r\n    },\r\n    createElement(type){\r\n        return document.createElement(type)\r\n    },\r\n    createText(text){   \r\n        return document.createTextNode(text)\r\n    },\r\n    setText(node,text){\r\n        node.nodeValue = text\r\n    },   \r\n    setElementText(el,text){\r\n        el.textContent = text\r\n    },\r\n    parentNode(node){\r\n        return node.parentNode\r\n    },\r\n    nextSibling(node){\r\n        return node.nextSibling\r\n    },\r\n  \r\n}", "export default function patchClass(el, preValue, nextValue) {\r\n    if (preValue !== nextValue) {\r\n        if (nextValue) {\r\n            el.className = nextValue;\r\n        }\r\n        else {\r\n            el.className = '';\r\n        }\r\n    }\r\n\r\n}", "export  default function patchStyle(el, preValue, nextValue) {\r\n    const style = el.style\r\n    if (!nextValue) {\r\n        el.removeAttribute('style')\r\n    } else {\r\n        for (const key in nextValue) {\r\n            style[key] = nextValue[key]\r\n        }\r\n        if (preValue) {\r\n            for (const key in preValue) {\r\n                if (!nextValue[key]) {\r\n                    style[key] = ''\r\n                }\r\n            }\r\n        }\r\n    }\r\n}", "function createInvoker(nextValue) {\r\n    const invoker = e => {\r\n        invoker.value(e)\r\n    }\r\n    invoker.value = nextValue\r\n    return invoker\r\n}\r\nexport default function patchEvent(el, name, nextValue) {\r\n    // \u628A\u4E8B\u4EF6\u7ED1\u5B9A\u5230\u5143\u7D20\u4E0A _vei\u7F13\u5B58\u5143\u7D20\u7684\u67D0\u4E2A\u4E8B\u4EF6\r\n    // _vei vue event invokers(\u8C03\u7528)\r\n    const invokers = el._vei || (el._vei = {})\r\n    const eventName = name.slice(2).toLowerCase()\r\n    const exist = invokers[name]\r\n    if(nextValue && exist){\r\n        return exist.value = nextValue\r\n    }\r\n    if(nextValue){\r\n       const invoker = (invokers[name] =  createInvoker(nextValue))\r\n        return   el.addEventListener(eventName, invoker)\r\n    }\r\n    if(exist){\r\n      el.removeEventListener(eventName, exist)\r\n        invokers[name] = undefined\r\n    }\r\n   \r\n}", "export default function pathAttr(el, key, nextValue) {\r\n    if (nextValue == null) {\r\n        el.removeAttribute(key);\r\n    }\r\n    else {\r\n        el.setAttribute(key, nextValue);\r\n    }\r\n\r\n}", "// \u4E3B\u8981\u662F\u5BF9\u8282\u70B9\u5143\u7D20\u7684\u5C5E\u6027\u64CD\u4F5C class  style event\r\n//  diff \u6BD4\u5BF9\u5C5E\u6027\u7684\u53D8\u5316\uFF0C\u7136\u540E\u66F4\u65B0\r\nimport   patchClass from './modules/patchClass'\r\nimport   patchStyle from './modules/patchStyle'\r\nimport patchEvent from './modules/pathEvent'\r\nimport pathAttr from './modules/pathAttr'\r\nexport default function patchProp(el, key, preValue, nextValue) {\r\n    if(key === 'class'){\r\n        return patchClass(el, preValue, nextValue)\r\n    }else if(key === 'style'){\r\n        return patchStyle(el, preValue, nextValue)\r\n    }else if(key[0] === 'o' && key[1] === 'n'){\r\n        //\u4E8B\u4EF6\r\n        return patchEvent(el, key, nextValue)\r\n    }else {\r\n        return pathAttr(el, key, nextValue)\r\n    }\r\n}", "import { ShapeFlags } from '@vue/shared';\r\nexport function createRenderer(renderOptions) {\r\n    // core\u4E2D\u4E0D\u5173\u5FC3\u5982\u4F55\u6E32\u67D3,\u53EF\u8DE8\u5E73\u53F0\r\n    const {\r\n        insert: hostInsert,\r\n        remove: hostRemove,\r\n        createElement: hostCreateElement,\r\n        createText: hostCreateText,\r\n        setText: hostSetText,\r\n        setElementText: hostSetElementText,\r\n        parentNode: hostParentNode,\r\n        nextSibling: hostNextSibling,\r\n        patchProp: hostPatchProp\r\n    } = renderOptions\r\n    \r\n    const mountChildren = (children,container) => {\r\n        for(let i = 0;i<children.length;i++){\r\n            patch(null,children[i],container)\r\n        }\r\n    }\r\n    const mountElement = (vnode,container) => {\r\n        const {type,props,children,shapeFlag} = vnode\r\n        // ShapeFlags\u901A\u8FC7\u4F4D\u8FD0\u7B97\u5224\u65AD\u8282\u70B9\u7C7B\u578B\r\n        const el = vnode.el = hostCreateElement(type)\r\n        if(props){\r\n            for(const key in props){\r\n                hostPatchProp(el,key,{},props[key])\r\n            }\r\n        }\r\n        console.log(vnode,'vnode')\r\n        \r\n        // \u5982\u679C\u5927\u4E8E0 \u8BF4\u660E\u662F\u6587\u672C\u5143\u7D20\r\n        if(shapeFlag & ShapeFlags.TEXT_CHILDREN){\r\n            hostSetElementText(el,children)\r\n        }else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n            // \u6570\u7EC4\r\n            mountChildren(children,el)\r\n        }\r\n\r\n        hostInsert(el,container)\r\n    }\r\n    const patchElement = (n1,n2,container) => {\r\n       \r\n    }\r\n    const patch = (n1,n2,container) => {\r\n        // \u5904\u7406\u865A\u62DF\u8282\u70B9\r\n        if(n1 ==n2){\r\n            return\r\n        }\r\n        if(n1 == null){\r\n            // \u521D\u59CB\u5316\r\n            mountElement(n2,container)\r\n        }else{\r\n            // \u66F4\u65B0\r\n            patchElement(n1,n2,container)\r\n        }\r\n       \r\n\r\n    }\r\n    // \u591A\u6B21\u8C03\u7528\u8FDB\u884C\u865A\u62DF\u8282\u70B9\u6BD4\u8F83 \u518D\u6E32\u67D3\r\n    const render = (vnode,container)=>{\r\n        // \u5C06\u865A\u62DF\u8282\u70B9\u53D8\u6210\u771F\u5B9E\u8282\u70B9\u6E32\u67D3\r\n        patch( container._vnode ||null,vnode,container)\r\n\r\n        container._vnode = vnode // \u4FDD\u5B58\u865A\u62DF\u8282\u70B9\r\n\r\n\r\n    }\r\n    return {\r\n        render\r\n    }\r\n}", "\r\n\r\nimport {nodeOps} from './nodeOps'\r\nimport patchProp from './patchProp'\r\nimport {createRenderer } from '@vue/runtime-core'\r\nconst renderOptions = Object.assign({patchProp},nodeOps)\r\n\r\n// render\u51FD\u6570\u91C7\u7528domApi\u8FDB\u884C\u6E32\u67D3\r\nexport const render  = (vnode,container) => {\r\n    return createRenderer(renderOptions).render(vnode,container)\r\n}\r\n\r\n// @vue/runtime-core = > runtime-core => reactivity\r\nexport * from '@vue/runtime-core'\r\n"],
  "mappings": "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",
  "names": ["renderOptions", "render"]
}
